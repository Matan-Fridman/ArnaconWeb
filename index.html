<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Native Communication</title>
</head>
<body>
    <script>
        class NativeBridge {
            constructor() {
                this.guiFrame = document.getElementById('guiFrame');
            }

            receiveData(_data) {
                const data = JSON.parse(_data);
                this.guiFrame.contentWindow.postMessage(data, '*');
            }

            sendMessageToNativeApp(jsonData) {
                if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.nativeHandler) {
                    window.webkit.messageHandlers.nativeHandler.postMessage(JSON.stringify(jsonData));
                } else if (window.AndroidBridge && window.AndroidBridge.processAction) {
                    window.AndroidBridge.processAction(JSON.stringify(jsonData));
                } else {
                    console.log("Native interface not available");
                }
            }

            // Other methods...
        }

        window.nativeBridge = new NativeBridge();
    </script>
    <iframe id="guiFrame" src="background.html" style="width:100%; height:100vh;"></iframe>
</body>
</html>
